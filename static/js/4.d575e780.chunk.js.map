{"version":3,"sources":["components/Hoc/WithAuthRedirect.js","components/Dialogs/Dialogs.module.css","../node_modules/@mui/icons-material/Send.js","components/Dialogs/DialogItem/DialogsItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_interopRequireDefault","require","Object","defineProperty","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","DialogItem","className","s","dialog","active","src","width","id","name","Message","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","variant","endIcon","Dialogs","dialogsPage","dialogsElements","dialogs","map","key","messagesElement","messages","dialogsItems","values","sendMessage","newMessageBody","compose","dispatch","sendMessageCreator"],"mappings":"8MAKIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OAET,kBAACG,EAAcE,KAAKC,OAFI,kBAAC,IAAD,CAAUC,GAAI,eAHV,GACXC,IAAML,WAUtC,OAFqCM,YAAQX,EAARW,CAAqCL,K,oBCjB9EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,iCCCnN,IAAIC,EAAyBC,EAAQ,KAErCC,OAAOC,eAAeJ,EAAS,aAAc,CAC3CK,OAAO,IAETL,EAAQM,aAAU,EAElB,IAAIC,EAAiBN,EAAuBC,EAAQ,MAEhDM,EAAcN,EAAQ,GAEtBO,GAAW,EAAIF,EAAeD,UAAuB,EAAIE,EAAYE,KAAK,OAAQ,CACpFC,EAAG,0CACD,QAEJX,EAAQM,QAAUG,G,+FCLHG,EARI,SAACjB,GAChB,OACI,yBAAKkB,UAAWC,IAAEC,OAAS,IAAMD,IAAEE,QAC/B,yBAAKC,IAAI,6FAA6FC,MAAM,SAC5G,kBAAC,IAAD,CAAStB,GAAI,YAAcD,EAAMwB,IAAKxB,EAAMyB,QCGzCC,EARC,SAAC1B,GACb,OACI,yBAAKkB,UAAWC,IAAEQ,SAAU3B,EAAM2B,U,6DCiCpCC,EAAcC,YAAiB,IAgB/BC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAdL,SAAC/B,GACpB,OACI,0BAAMiC,SAAUjC,EAAMkC,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAYC,IACZC,SAAU,CAACC,IAAUX,GACrBH,KAAK,iBACLe,YAAY,uBACnB,4BAAQC,QAAQ,YAAYC,QAAS,kBAAC,IAAD,QALzC,aAaGC,EA7CC,SAAC3C,GAEb,IAAIP,EAAQO,EAAM4C,YAEdC,EAAkBpD,EAAMqD,QAAQC,KAAI,SAAA3B,GAAM,OAAI,kBAAC,EAAD,CAAYK,KAAML,EAAOK,KAAMuB,IAAK5B,EAAOI,GAAIA,GAAIJ,EAAOI,QACxGyB,EAAkBxD,EAAMyD,SAASH,KAAI,SAAApB,GAAO,OAAI,kBAAC,EAAD,CAASA,QAASA,EAAQA,QAASqB,IAAKrB,EAAQH,QAMpG,OAAKxB,EAAMN,OAIP,yBAAKwB,UAAWC,IAAE2B,SACd,yBAAK5B,UAAWC,IAAEgC,cACbN,GAEL,yBAAK3B,UAAWC,IAAE+B,UACbD,EACD,kBAACnB,EAAD,CAAqBG,SAdb,SAACmB,GACjBpD,EAAMqD,YAAYD,EAAOE,qBAIlB,kBAAC,IAAD,CAAUrD,GAAI,Y,yBCFdsD,sBACXpD,aAfkB,SAACV,GACnB,MAAO,CACHmD,YAAanD,EAAMmD,gBAIF,SAACY,GACtB,MAAO,CACHH,YAAa,SAACC,GACVE,EAASC,YAAmBH,SAOpC1D,IAFW2D,CAGbZ","file":"static/js/4.d575e780.chunk.js","sourcesContent":["import {Component} from \"react\";\r\nimport React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2kzBy\",\"dialogsItems\":\"Dialogs_dialogsItems__3V-iQ\",\"dialog\":\"Dialogs_dialog__3AtRK\",\"active\":\"Dialogs_active__YofTU\",\"messages\":\"Dialogs_messages__e2aPk\",\"message\":\"Dialogs_message__3LwnD\"};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <img src=\"https://avatars.mds.yandex.net/get-ott/374297/2a000001616b87458162c9216ccd5144e94d/678x380\" width='20px'/>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\nexport default DialogItem","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Message","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogsItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Button} from \"@mui/material\";\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../Common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validator\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id}/>);\r\n    let messagesElement = state.messages.map(message => <Message message={message.message} key={message.id}/>);\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    if (!props.isAuth)\r\n        return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElement}\r\n                <AddMessageFormRedux onSubmit ={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component= {Textarea}\r\n                       validate={[required, maxLength50]}\r\n                       name=\"newMessageBody\"\r\n                       placeholder=\"Enter your message\"/>\r\n                <button variant=\"contained\" endIcon={<SendIcon/>}/> Send\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm)\r\n\r\nexport default Dialogs","import React from \"react\";\r\nimport {sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../Hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n"],"sourceRoot":""}